#include <iostream>
#include <time.h>
using namespace std;
#define _CRT_SECURE_NO_WARNINGS

int WAIT = 1;
int TIME = 16;
int COUNT = 3;
int temp_count = 0;

bool waitForTime(){
	struct tm * now;
	do{
		//get time
		time_t t = time(0);
		now = localtime(&t);
		//if times do not match and action count has been reached reset count
		if (now->tm_hour != TIME && temp_count != 0){
			temp_count = 0;
		}
		//do while the hour is not what we want
	} while (now->tm_hour != TIME || temp_count == COUNT);
	if (now->tm_hour == TIME && temp_count <= COUNT){
		temp_count++;
		cout << "get action" << endl;
	}
	return true;
}

bool waitForPeriod(){
	cout << "waiting " << WAIT << " minutes";
	time_t t = time(0) + (WAIT * 60 * 60);
	while (time(0) < t){}
	return true;
}

int main(){
	while (1){
		waitForTime();
		waitForPeriod();
	}
	return 0;
}