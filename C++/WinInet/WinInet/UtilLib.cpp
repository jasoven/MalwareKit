#include <string>
#include "UtilLib.h"

wstring s2ws(string inString){
	wstring wString;
	return wString.assign(inString.begin(), inString.end());
}

// keys[] - an array of strings naming the variables in the query
// values[] - an array of strings containing the values of the variables in the query
// arrayLen - we of course need to pass the length of the above arrays
// *output[] - a pointer to a char[], where we will allocate memory and place the query string
void convertArgsToStr(string keys[], string values[], int arrayLen, char** output){
	// use this variable size string to construct the query
	string query = "";

	if (arrayLen > 0)
		query += "?";
	for (int i = 0; i < arrayLen; i++){
		query += keys[i];
		query += "=" + values[i];
		if (i < arrayLen - 1)
			query += "&";
	}
	// initialize the array pointer that was passed in to fit the query string created plus space for \0
	*output = new char[query.length() + 1];
	// copy the string to the new array pointer 
	strncpy_s(*output, strlen(query.c_str()) + 1, query.c_str(), _TRUNCATE);
}