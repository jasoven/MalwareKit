#include <iostream>
#include <stdio.h>
#include<string>
#include "HttpLib.h"
#include "UtilLib.h"

#pragma comment (lib, "Wininet.lib")

#define size(a) sizeof(a)/sizeof(a[0])

using namespace std;


int main(int argc, char *argv[])
{
	string url = "localhost";
	string api = "/malware_toolkit/api/test/";

	string keys[] = { "city", "state", "country" };
	string values[] = { "erie", "pa", "us" };

	// a char[] where we will get our query string
	char* query = NULL;
	convertArgsToStr(keys, values, size(keys), &query);
	cout << query << endl;

	char* getRes = httpGetRequest(url, api, 50000, query);
	cout << getRes << endl;
	delete[] getRes;

	char* postRes = httpPostRequest(url, api, 50000, query);
	cout << postRes << endl;
	delete[] postRes;

	delete[] query;

	system("pause");
	return 0;
}
